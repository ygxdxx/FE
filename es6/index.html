<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <title>Title</title></head><body></body><script>    function func(condition) {        if (condition) {            var value = 'hello';            return value;        } else {            console.log(value);            return null;        }    }    // console.log(func(false));    {        var value = 'hello';    }    console.log(value);    {        var funcs = [];        for (var i = 0; i < 10; i++) {            funcs.push((function (val) {                return function () {                    console.log(val);                }            })(i));        }        funcs.forEach(function (func, index) {            func();        });    }    var text = "";    console.log(text.length);    {        function mixArgs(first, second = 'b') {            console.log(arguments.length); //1            console.log(first === arguments[0]); //true            console.log(second === arguments[1]); //false            console.log(arguments[1]); //undefined            first = 'c';            second = 'b';            console.log(first === arguments[0]); //false            console.log(second === arguments[1]); //false        }        mixArgs('a');    }    {        //暂时性锁死区        function getValue(arg) {            return arg + 1;        }        function add(first, second = getValue(first)) {            console.log(first + second);        }        add(1, 1); //2        add(1); //3    }    {        // function pick(obj) {        //     let result = Object.create(null);        //        //     for (let i = 1, len = arguments.length; i < len; i++) {        //         result[arguments[i]] = obj[arguments[i]];        //     }        //        //     return result;        // }        function pick(obj, ...keys) {            let result = Object.create(null);            for (let i = 0, len = keys.length; i < len; i++) {                result[keys[i]] = obj[keys[i]];            }            return result;        }        let book = {            title: "Understanding ES6",            author: "Nicholas C. Zakas",            year: 2015        };        console.log(pick(book, 'author', 'year')); //{author:'Nicholas C. Zakas',year:2005}    }    {        const values = [22, 11, 5, 2, 4, 7];        console.log(Math.max(...values));    }    // {    //    //     function Person(name) {    //         this.name = name;    //     }    //    //     var person = new Person('小明');    //     var notPerson = Person('小明');    //    //     console.log(person); //Person对象    //     console.log(notPerson); //undefined    // }    {        function Person(name) {            if (this instanceof Person) {                this.name = name;            } else {                throw new Error('new with Person');            }        }        var person = new Person('小明'); //可以正常运行 [[constructor]]        Person.call(person, '小明'); //也可以运行    }    {        let s = 2;        let PageHandler = {            id: '123',            init: function () {                // document.addEventListener('click', (function (event) {                //     this.print('click')                // }).call(this), false);                document.addEventListener('click', event => this.print('click'), false);            },            print: function (type) {                console.log('handling' + type + 'for' + this.id);            }        };        PageHandler.init();    }    {        function mixin(receiver, supplier) {            Object.keys(supplier).forEach(function (key) {                receiver[key] = supplier[key];            });            return receiver;        }        function EventTarget() {        }        EventTarget.prototype = {            constructor: EventTarget,            emit: function () {                console.log('emit');            },            on: function () {            }        };        let obj = {};        mixin(obj, EventTarget);    }    // {    //    //     //改写对象原型    //     let dog = {    //         say() {    //             console.log('woof!');    //         }    //     };    //    //     let person = {    //         say() {    //             console.log('hello');    //         }    //     };    //    //     let friend = Object.create(person);    //     console.log(Object.getPrototypeOf(friend) === person); //true    //     friend.say(); //hello    //    //     let d = Object.create(dog);    //     d.say(); //woof!    //    //     Object.setPrototypeOf(friend,d);    //     console.log(Object.getPrototypeOf(friend) === person); //false    //     friend.say(); //woof!    //    // }    // {    //     let person = {    //         say() {    //             return 'hello';    //         }    //     };    //    //     let friend = {    //         say() {    //             return Object.getPrototypeOf(this).say() + 'hi';    //         }    //     };    //    //     Object.setPrototypeOf(friend, person);    //     console.log(friend.say())    // }    {        let person = {            say() {                return 'hello';            }        };        let friend = {            say() {                return super.say.call(this) + ' hi'; //super没问题                // return Object.getPrototypeOf(this).say.call(this) + ' hi'; //有问题            }        };        Object.setPrototypeOf(friend, person); //修改friend的原型为person,实现了继承        console.log(friend.say());// hello hi        let relative = Object.create(friend); //relative指向friend的原型        console.log(relative.say()); //无限循环指向，调用栈爆掉了    }    {        let node = {            type: 'bar',            name: 'foo'        };        let {type, name} = node;        console.log(type);        console.log(name);    }    {        //    解构        let colors = ["red", ["green", "lightgreen"], "blue"];// 随后        let [firstColor, [secondColor]] = colors;        console.log(firstColor);// "red"        console.log(secondColor);// "green"    }    {        let firstName = Symbol('first name');        let person = {            [firstName]: 'hehe'        };        console.log(person[firstName]);    }    {        let map = Object.create(null);        // map.count = 0;        map.count = 1;        if (map.count) {            console.log('hello');        }    }    {        let set = new Set([1, 2, 3]); //创建        set.add('3'); //添加        console.log(set.size); //打印长度        set.has(3); //判断        set.delete(3); //删除        let arr = [...set]; //将set转换为数组    }    // {    //     let set = new Set([1, 2, 3, 4]);    //     let processor = {    //         ouput(val) {    //             console.log(val);    //         },    //         process(dataset) {    //             dataset.forEach((val1, val2) => this.ouput(val1));    //             // dataset.forEach(function (val1, val2) {    //             //     this.output(val1);    //             // }, this)    //         }    //     };    //     processor.process(set);    // }    {        let map = new Map([['name', '小明'], ['age', 18]]);        let processor = {            output(key, val) {                console.log(key, ' + ', val);            },            process(mapset) {                mapset.forEach((val, key) => this.output(key, val))            }        };        processor.process(map);    }    // {    //     //ES5模拟迭代器    //     function mockIterator(items) {    //         let i = 0;    //         return {    //             next: function () {    //                 let done = (i >= items.length);    //                 let value = !done ? items[i++] : undefined;    //                 return {    //                     value,    //                     done,    //                 }    //             }    //         };    //     }    //    //     let iterator = mockIterator([1, 2, 3]);    //     console.log(iterator.next()); //{value: 1, done: false}    //     console.log(iterator.next()); //{value: 2, done: false}    //     console.log(iterator.next()); //{value: 3, done: false}    //     console.log(iterator.next()); //{value: undefined, done: true}    // }    // {    //     //生成器    //     function* generator() {    //         yield  1;    //         yield  2;    //         yield  3;    //     }    //    //     let iterator = generator();    //     console.log(iterator.next()); //{value: 1, done: false}    //     console.log(iterator.next()); //{value: 2, done: false}    //     console.log(iterator.next()); //{value: 3, done: false}    //     console.log(iterator.next()); //{value: undefined, done: true}    // }    {        function* generator(items) {            for (let i = 0, len = items.length; i < len; i++) {                yield items[i];            }        }        let iterator = generator([1, 2, 3]);        console.log(iterator.next()); //{value: 1, done: false}        console.log(iterator.next()); //{value: 2, done: false}        console.log(iterator.next()); //{value: 3, done: false}        console.log(iterator.next()); //{value: undefined, done: true}    }    {        let map = new Map();        map.set('a', 1);        map.set('b', 2);        map.set('c', 3);        for (let entry of map.entries()) {            console.log(entry);        }        //解构也可以一起使用        for (let [key, value] of map.entries()) {            console.log(key, ' + ', value);        }    }    {        //模仿类        function PersonType(name) {            this.name = name;        }        //将方法添加到函数的原型上，这样一来通过函数创建的对象都会拥有这个方法        PersonType.prototype.sayName = function () {            console.log(this.name);        };        let person = new PersonType('hehe');        person.sayName();    }    {        //class        let PersonClass = class {            //相当于构造函数            constructor(name = 'test') {                this.name = name;            }            //相当于PersonClass.prototype.sayName = xxx            sayName() {                console.log(this.name);            }        };        let person = new PersonClass();        console.log(person instanceof PersonClass); //true        console.log(person instanceof Object); //true        console.log(typeof PersonClass); //function        console.log(typeof PersonClass.prototype.sayName); //function    }    {        function createObject(classDef) {            return new classDef();        }        let obj = createObject(class {            sayHi() {                console.log('hi');            }        });        obj.sayHi();    }    {        //创建单例        let person = new class {            constructor(name) {                this.name = name;            }            sayName() {                console.log(this.name);            }        }('test');        person.sayName();    }</script></html>